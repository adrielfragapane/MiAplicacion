<p>propuesta works!</p>

<div class="container">
    <a href="/usuarios" class="btn btn-info">ir a Usuarios</a>
    
    <h2>Propuestas 
        <button *ngIf="filtroUsuario" (click)="verTodas()" class="btn btn-info">Ver todas</button>
    </h2>
    <div class="row">
        <div class="col-sm-7" *ngIf="filtroUsuario">
            <!--<h2>Propuestas<button (click)="toggleFiltroUsuario()" class="btn btn-info">Ver todas</button></h2>-->
            <div class="card">
                <div class="card-title">
                    <h2 class="display-2">Propuestas</h2>
                </div>
                <div class="card-content">  
                    <table class="table">
                        <thead>
                            <th>Nombre</th>
                            <th>Descripci贸n</th>
                            <th>Votos</th>
                            <th>Editar</th>
                            <th>Eliminar</th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let propuesta of propuestasUsuario">
                                <td>{{propuesta.nombre}}</td>
                                <td>{{propuesta.descripcion}}</td> 
                                <td>{{propuesta.votos.length}}</td> 
                                <td><button (click)="editarPropuesta(propuesta)" class="btn btn-warning">Editar</button></td>
                                <td><button (click)="eliminarPropuesta(propuesta)" class="btn btn-danger">Eliminar</button></td>
                            </tr>
                        </tbody>
                    </table>                
                    <button (click)="nuevaPropuesta()" class="btn btn-info col-sm-12">Agregar Propuesta</button>
                </div>
            </div>
        </div>

        <div class="col-sm-7" *ngIf="!filtroUsuario">
            <h2 class="display-2">Propuestas</h2>
            <table class="table">
                <thead>
                    <th>Nombre</th>
                    <th>Descripci贸n</th>
                    <th>Votos</th>
                    <th>Votar</th>
                    <th>Usuario</th>                    
                </thead>
                <tbody>
                    <tr *ngFor="let propuesta of propuestas">
                        <td>{{propuesta.nombre}}</td>
                        <td>{{propuesta.descripcion}}</td> 
                        <td>{{propuesta.votos.length}}</td> 
                        <td><button (click)="votar(propuesta)" class="btn btn-success">Votar</button></td>
                        <td><button class="btn btn-info">{{propuesta.usuario.nombre}}</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-sm-5" *ngIf="formPropuesta">
            <div class="card">
                <div class="card-title">
                    <h2 class="display-2">Editar Propuesta</h2>
                </div>
                <div class="card-content">   
                    <form #PropuestaForm="ngForm">
                        <div class="row">
                            <div class="col-sm-12">
                                <label for="nombre">Nombre</label>
                                <input type="text" class="form-control" name="nombre" #name="ngModel"
                                [(ngModel)]="propuestaSeleccionada.nombre"
                                placeholder="Nombre de la propuesta">
                            </div>

                            <div class="col-sm-12">
                                <label for="descripcion">Descripci贸n</label>
                                <input type="text" class="form-control" name="descripcion" #name="ngModel"
                                [(ngModel)]="propuestaSeleccionada.descripcion"
                                placeholder="Descripci贸n de la propuesta">
                            </div>
                            <div class="col-sm-12 text-center" style="margin-top: 20px;">                                
                                <div class="col-sm-12">
                                    <button *ngIf="editar" (click)="actualizarPropuesta(propuestaSeleccionada)" class="btn btn-success col-sm-12">Actualizar</button>
                                    <button *ngIf="!editar" (click)="guardarPropuesta(propuestaSeleccionada)" class="btn btn-success col-sm-12">Guardar</button>
                                </div>
                            </div>
                        </div> 
                    </form>
                </div>
            </div>
        </div>
    </div>  
</div>